<!DOCTYPE html>

<!-- Richard Davies, Data Science 2021 -->


<!-- ///////////////////  HEAD //////////////////////////////////// -->

<head>
     
<!--The next three lines allow the Vega embed-->
<script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.2"></script>
<link rel="stylesheet" href="project.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
     <p>  <a href ="index"> Back </a> </p>
     <br>
     <br>
<h2> Does the improved financial capability of your local community promise you a safer environment to live?  </h2>
</head>

<!-- ///////////////////  HEAD //////////////////////////////////// -->



<!-- ///////////////////  START BODY //////////////////////////////////// -->
<body>
<p> This project unveils the relationship between wealth and local security levels in the U.S. in 7 charts sampled yearly from 2010, inspired by the “Worries of National Security” claimed by its ex-president Trump. It is presented in logical order and will discuss the production lastly. </p>

<h3> Overview </h3>
<!--Project chart1 -->
<div class="chart" id="pchart1" style = "width: 420px;">
      <script>
        var pchart1 = "pchart1.json";
        vegaEmbed('#pchart1', pchart1);
      </script>
</div>
      
      <p>
            Despite minor fluctuations in Figure 1, in the past decade, the U.S. national medium household income increased where offenses also dropped. However, this could be led by factors such as wealth (directly / indirectly) or policies. Therefore, we will investigate if household income impacted on a main source of local security – police forces.
      </p>
     <h3> Main </h3>
<!--Project chart2 -->
<div class="chart" id="pchart2" style = "width: 850px;">
      <script>
        var pchart2 = "pchart2.json";
        vegaEmbed('#pchart2', pchart2);
      </script>
</div>
      
      <p>
            Though states’ medium household incomes had risen overall, Figure 2 shows that the local employed policemen remain at similar levels. As such, household income may not directly impact on the number of local policemen as well as the local security level but indirectly. To further understand the decline in crime cases, where states behaved similarly in Fig2, 3 states with characteristics of most states’ were selected to inspect closely. Those characteristics are according to 1) Regions 2) Level of fluctuations (Texas) and steadiness (New York) of police employed 3) Beyond average number of police deployed (California)
      </p>

  
<!--Project chart3 -->
<div class="chart" id="pchart3" style = "width: 490px; height: 390px">
      <script>
        var pchart3 = "pchart3.json";
        vegaEmbed('#pchart3', pchart3);
      </script>
</div>
      
      <p>
            Similar to the Figure 2, the increase in income in Figure 3 did not simply imply that every person is protected by more policemen. Therefore, security level may not solely due to the number of police per population but of other factors. On the other hand, since the level of employed police in California increased while other 2 states fluctuated, we wonder whether the number of employed police had little effect comparing to alternative factors if the level of safety changed.
      </p>

<!--Project chart4 -->
<div class="chart" id="pchart4" style = "width: 610px;">
      <script>
        var pchart4 = "pchart4.json";
        vegaEmbed('#pchart4', pchart4);
      </script>
</div>
      
      <p>
            As the number of offenses increased slightly in California accompanied with a drop in other 2 states in Figure 4, the effect of the employed police in California could have less impacts than other factors by its increasing number of cases; whereas the decrease and fluctuation in offenses of Texas and New York indicate the contribution of other factors to the local safety as both their offenses and arrested dropped over time. 
      </p>

 <!--Project chart5 -->
<div class="chart" id="pchart5" style = "width: 610px;">
      <script>
        var pchart5 = "pchart5.json";
        vegaEmbed('#pchart5', pchart5);
      </script>
</div>
      
      <p>
            In addition, as the number of arrests in Figure 5 trended negatively in all 3 states, despite the limited effect of the employed police in California, the number of police deployed contributed to the safe also with other factors.
      </P>
<br>
<p> <b> (Figure 6) Trend Regression of the National Level Offense from 2011 </b> </p>
<img src = "pchart6.png">
  
 <!--Project chart7 -->
<div class="chart" id="pchart7" style = "width: 460px;">
      <script>
        var pchart7 = "pchart7.json";
        vegaEmbed('#pchart7', pchart7);
      </script>
</div>
     </br>
<p> Finally, even though the national level of offenses is trending downward with Figure 6, it is still insufficient to draw assumptions for all states. This is because opposite effects (Correlation) between household income and number of crimes could happen to the different states as shown in Figure 7.
</p>

<h3> Conclusion </h3>
<p> Despite the absent of direct connections between the police forces and the household income, the data allowed the indirect effects to be explained through angles including human people needs and the importance of the suitable government policies. </p> <br> <p> Therefore, the local safety in the U.S. involved many factors but, idealy, the decline in crime is forseeable if living standard is improved for family.
</p>

<hr>

<h3> Data </h3>
<p> This project uses data from 2 API sources: the Federal Crime Explorer and the Federal Economic Reserve.
Python is used for data scaping, cleaning and dataset rebuilding. The accessibility of the APIs is first confirmed as <b> code 200 </b> as accessible before creating loops to access data using the <b> format </b> method from the <b> requests </b> and <b> json </b> library. Loops within other loops are also applied to recreate new sets of data. 
</p)
<p><br><br>
At last, with the desired sections selected, dataframes were created with the <b> Pandas</b> library and exported as json and csv files. Data is then cleaned with the<b> drop</b> and <b>replace </b>method to eliminate abnormalities and reproduced new dataset of desired combinations and modifications of the data.
</p>
<hr>
<h3> Challenges </h3>
<ol>
     <li> API formats are customized in the institutions’ formats. Therefore, I emailed the organization and obtained the format of the inputs. </li>
     <li> Inconsistent data and broken APIs. Therefore, the <b> try </b>and <b>except </b>method was adapted to avoid errors and to ensure the consistency of data and its accessibility. Furthermore, examined missing data were filled by data from previous timeslot given the effect is minimal according to the trend. For the errors, the method <b>pass</b> and a list is used to keep track on the possible damage to the analysis. </li>
     <li> Repetitive work is done all through <b>loops </b>even in Javascript. </li>
     <li> Data used is highly restricted for security reasons. Therefore, the angles of analysis are inspired by the various presentations on RapidCharts and VEGALite Examples. </li>
</ol>

<hr>
<h3> Conclusion for the project </h3>
<p> Personally, this project is challenging but highly rewarded as I can apply every aspect from what we learnt and to open-up and discuss with our professors and peers.   </p>


</body>
<!-- ///////////////////  END BODY //////////////////////////////////// -->

</html>
